{"version":3,"sources":["noflash.js"],"names":["storageKey","classNameDark","classNameLight","setClassOnDocumentBody","darkMode","document","body","classList","add","remove","preferDarkQuery","mql","window","matchMedia","supportsColorSchemeQuery","media","localStorageTheme","localStorage","getItem","err","console","log","localStorageExists","JSON","parse","matches","setItem","isDarkMode","contains","stringify"],"mappings":";CAAA,WAEKA,IACAC,EAAgB,YAChBC,EAAiB,aAEZC,SAAAA,EAAuBC,GAC/BC,SAASC,KAAKC,UAAUC,IAAIJ,EAAWH,EAAgBC,GACvDG,SAASC,KAAKC,UAAUE,OACvBL,EAAWF,EAAiBD,GAI1BS,IACAC,EAAMC,OAAOC,WADK,gCAElBC,EAFkB,iCAESH,EAAII,MAC/BC,EAAoB,KACpB,IACHA,EAAoBC,aAAaC,QAhBjB,YAiBf,MAAOC,GACRC,QAAQC,IAAIF,GAETG,IAAAA,EAA2C,OAAtBN,EAMrBM,GALAA,IACHN,EAAoBO,KAAKC,MAAMR,IAI5BM,EAEHnB,EAAuBa,QACjB,GAAIF,EAEVX,EAAuBQ,EAAIc,SAC3BR,aAAaS,QAhCG,WAgCiBf,EAAIc,aAC/B,CAEFE,IAAAA,EAAatB,SAASC,KAAKC,UAAUqB,SAAS3B,GAClDgB,aAAaS,QApCG,WAoCiBH,KAAKM,UAAUF,KAtClD","file":"noflash.fe21174b.js","sourceRoot":"../src","sourcesContent":["(function () {\n\t// Change these if you use something different in your hook.\n\tvar storageKey = \"darkMode\";\n\tvar classNameDark = \"dark-mode\";\n\tvar classNameLight = \"light-mode\";\n\n\tfunction setClassOnDocumentBody(darkMode) {\n\t\tdocument.body.classList.add(darkMode ? classNameDark : classNameLight);\n\t\tdocument.body.classList.remove(\n\t\t\tdarkMode ? classNameLight : classNameDark\n\t\t);\n\t}\n\n\tvar preferDarkQuery = \"(prefers-color-scheme: dark)\";\n\tvar mql = window.matchMedia(preferDarkQuery);\n\tvar supportsColorSchemeQuery = mql.media === preferDarkQuery;\n\tvar localStorageTheme = null;\n\ttry {\n\t\tlocalStorageTheme = localStorage.getItem(storageKey);\n\t} catch (err) {\n\t\tconsole.log(err);\n\t}\n\tvar localStorageExists = localStorageTheme !== null;\n\tif (localStorageExists) {\n\t\tlocalStorageTheme = JSON.parse(localStorageTheme);\n\t}\n\n\t// Determine the source of truth\n\tif (localStorageExists) {\n\t\t// source of truth from localStorage\n\t\tsetClassOnDocumentBody(localStorageTheme);\n\t} else if (supportsColorSchemeQuery) {\n\t\t// source of truth from system\n\t\tsetClassOnDocumentBody(mql.matches);\n\t\tlocalStorage.setItem(storageKey, mql.matches);\n\t} else {\n\t\t// source of truth from document.body\n\t\tvar isDarkMode = document.body.classList.contains(classNameDark);\n\t\tlocalStorage.setItem(storageKey, JSON.stringify(isDarkMode));\n\t}\n})();\n"]}